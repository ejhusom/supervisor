# Ground truth test cases for HDFS log analysis
# Labels: 0 = normal, 1 = anomalous

test_cases:
  - id: "normal_complete_replication"
    blk_id: "blk_6667093857658912327"
    expected_label: 0
    description: "Complete block lifecycle with 3-way replication"
    logs: |
      081111 094743 25776 INFO dfs.DataNode$DataXceiver: Receiving block blk_6667093857658912327 src: /10.251.73.188:57743 dest: /10.251.73.188:50010
      081111 094743 26099 INFO dfs.DataNode$DataXceiver: Receiving block blk_6667093857658912327 src: /10.251.73.188:54097 dest: /10.251.73.188:50010
      081111 094743 28 INFO dfs.FSNamesystem: BLOCK* NameSystem.allocateBlock: /user/root/rand8/_temporary/_task_200811101024_0015_m_001611_0/part-01611. blk_6667093857658912327
      081111 094744 25996 INFO dfs.DataNode$DataXceiver: Receiving block blk_6667093857658912327 src: /10.251.106.37:53888 dest: /10.251.106.37:50010
      081111 094828 26100 INFO dfs.DataNode$PacketResponder: PacketResponder 1 for block blk_6667093857658912327 terminating
      081111 094828 26100 INFO dfs.DataNode$PacketResponder: Received block blk_6667093857658912327 of size 67108864 from /10.251.73.188
      081111 094828 29 INFO dfs.FSNamesystem: BLOCK* NameSystem.addStoredBlock: blockMap updated: 10.251.106.37:50010 is added to blk_6667093857658912327 size 67108864
      081111 094828 30 INFO dfs.FSNamesystem: BLOCK* NameSystem.addStoredBlock: blockMap updated: 10.251.73.188:50010 is added to blk_6667093857658912327 size 67108864
      081111 094828 34 INFO dfs.FSNamesystem: BLOCK* NameSystem.addStoredBlock: blockMap updated: 10.251.110.160:50010 is added to blk_6667093857658912327 size 67108864
      081111 094829 25777 INFO dfs.DataNode$PacketResponder: PacketResponder 2 for block blk_6667093857658912327 terminating
      081111 094829 25777 INFO dfs.DataNode$PacketResponder: Received block blk_6667093857658912327 of size 67108864 from /10.251.73.188
      081111 094829 25997 INFO dfs.DataNode$PacketResponder: PacketResponder 0 for block blk_6667093857658912327 terminating
      081111 094829 25997 INFO dfs.DataNode$PacketResponder: Received block blk_6667093857658912327 of size 67108864 from /10.251.106.37

  - id: "anomaly_incomplete_operation"
    blk_id: "blk_4615226180823858743"
    expected_label: 1
    description: "Incomplete operation - missing storage confirmation"
    logs: |
      081111 061856 34 INFO dfs.FSNamesystem: BLOCK* NameSystem.allocateBlock: /user/root/randtxt5/_temporary/_task_200811101024_0012_m_001014_0/part-01014. blk_4615226180823858743
      081111 061857 21831 INFO dfs.DataNode$DataXceiver: Receiving block blk_4615226180823858743 src: /10.251.30.179:36961 dest: /10.251.30.179:50010

  - id: "anomaly_io_exception"
    blk_id: "blk_-152459496294138933"
    expected_label: 1
    description: "I/O exception during writeBlock"
    logs: |
      081110 010402 30 INFO dfs.FSNamesystem: BLOCK* NameSystem.allocateBlock: /user/root/randtxt/_temporary/_task_200811092030_0003_m_000269_0/part-00269. blk_-152459496294138933
      081110 010402 5086 INFO dfs.DataNode$DataXceiver: Receiving block blk_-152459496294138933 src: /10.251.74.134:53158 dest: /10.251.74.134:50010
      081110 010402 5110 INFO dfs.DataNode$DataXceiver: Receiving block blk_-152459496294138933 src: /10.251.74.134:51159 dest: /10.251.74.134:50010
      081110 010405 5086 INFO dfs.DataNode$DataXceiver: writeBlock blk_-152459496294138933 received exception java.io.IOException: Could not read from stream
